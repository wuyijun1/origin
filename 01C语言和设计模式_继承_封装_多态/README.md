C语言实现面向对象（转）
参考：  https://www.cnblogs.com/zzdbullet/p/10563075.html

首先要了解继承和多态。C语言是面向过程的语言，而C++是面向对象的语言，面向对象的三大特性，封装，继承和多态

封装：将数据和具体的实现细节都封装在类的内部，只把抽象出来的接口暴露给用户，用户只需要知道如何使用，而不去关心具体的实现细节。这样做可以保证系统的安全性。

继承：是一种复用手段，继承是类型之间的关系建模，共享共有的东西，实现各自本质不同的东西。

多态：也就是“一个接口，多种形态”，复用相同的接口，实现不同的操作。

C++支持编译时多态和运行时多态。

编译时多态：又称静态多态，通过函数重载和运算符的重载来实现。编译器在编译期间完成，编译器根据函数实参的类型（可能会隐式类型转换），可推断出要调用哪个函数，如果有对应的函数就调用相应的函数，否则就报一个编译错误。

运行时多态：又称动态多态，通过虚函数来实现。编译阶段是无法确定函数调用的，在运行的时候根据具体情况来确定到底调用哪个函数。在函数执行期间（非编译期）判断所引用对象的实际类型，根据实际类型的调用相应的方法。使用virtual关键字修饰类的成员函数，指明该函数为虚函数，派生类需要重新实现，编译器将实现动态绑定。

动态多态实现的条件：?
1>、使用场景：父类的指针或者引用指向父类或者子类的对象（由赋值兼容规则决定）；?
2>、实现多态的两个条件：虚函数的重写；父类的指针或者引用调用重写的虚函数。?
3>、若父类中的成员函数加上virtual关键字，则子类中重写的该函数默认为虚函数，virtual关键字可以省略，建议加上；?

继承与转换--赋值兼容规则--public继承?
1. ?类对象可以赋值给?类对象（切割/切?）?
2. ?类对象不能赋值给?类对象?
3. ?类的指针/引?可以指向?类对象?
4. ?类的指针/引?不能指向?类对
――――――――――――――――
版权声明：本文为CSDN博主「zhangyi_zy」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/zhangyi_ZY/java/article/details/76305688


 
 
//（1）继承性

typedef struct _parent
{
    int data_parent;
 
}Parent;
 
typedef struct _Child
{
    struct _parent parent;
    int data_child;
 
}Child;

 /****************************************************************** 在设计C语言继承性的时候，我们需要做的就是把基础数据放在继承的结构的首位置即可。这样，不管是数据的访问、数据的强转、数据的访问都不会有什么问题。
******************************************************************/
//（2）封装性
struct _Data;
 
typedef  void (*process)(struct _Data* pData);
 
typedef struct _Data
{
    int value;
    process pProcess;
    
}Data;
 /****************************************************************** 封装性的意义在于，函数和数据是绑在一起的，数据和数据是绑在一起的。这样，我们就可以通过简单的一个结构指针访问到所有的数据，遍历所有的函数。封装性，这是类拥有的属性，当然也是数据结构体拥有的属性。
******************************************************************/
//（3）多态

typedef struct _Play
{
    void* pData;
    void (*start_play)(struct _Play* pPlay);
}Play;
/******************************************************************  多态，就是说用同一的接口代码处理不同的数据。比如说，这里的Play结构就是一个通用的数据结构，我们也不清楚pData是什么数据，start_play是什么处理函数？但是，我们处理的时候只要调用pPlay->start_play(pPlay)就可以了。剩下来的事情我们不需要管，因为不同的接口会有不同的函数去处理，我们只要学会调用就可以了。
******************************************************************/
