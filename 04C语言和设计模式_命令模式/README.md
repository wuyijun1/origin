哪些地方会用到命令模式？（列出几个常见的例子）

1、按键处理，每个按键按下得到一个索引（指的就是命令），一个按键对应一个处理函数。按键处理命令模式

2、协议解析（串口，网口，CAN，等等）；以串口为例简单说明一下，比如有如下协议：http类型解析（html，jpg，jpeg...）


我们可以看到，解析函数写好之后就不用动了，需要变化的只是一个表。这样写能让代码看起来干净整洁清晰，命令也可以使用宏定义或者枚举，看自己的喜好吧。一个命令对应一个处理函数，尽量使用此类方式去取代swicth case的方式，始终让代码保持整洁易扩展易维护的特性。

??????? 上面使用了命令模式作用于串口协议，同样的方式可以适用于各种协议，网口协议的话，格式都不用改。如果是can协议的话，将can的id用作命令，就ok了。其他的，类似。
――――――――――――――――
模式实现总结
命令模式也是C语言实现的显性的设计模式，角色分为发布命令的invoker，分派命令的receiver和实际执行命令的handler。命令队列和命令码数组是核心的辅助元素。命令码数组目前只有两种类型。命令队列的实现类型就非常多，甚至未必是队列形式，需要设计人员根据经验把握。
